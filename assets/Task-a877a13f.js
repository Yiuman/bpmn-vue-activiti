import{F as P,E as C,D as h,g as b,C as c}from"./common-2f1289ac.js";import{P as i}from"./PrefixLabelSelect-f2cd1dd6.js";import{c as n,E as S,F as f,a as u,b as d,B as r}from"./index-8710f95a.js";const g=[{label:"创建",value:"create"},{label:"签收",value:"assignment"},{label:"完成",value:"complete"},{label:"删除",value:"delete"},{label:"全部",value:"all"}],v=b({name:"任务监听器",eventOptions:g}),k=[{label:"张三",value:"1"},{label:"李四",value:"2"},{label:"王五",value:"3"}],m=n(f,null,[k.map(e=>n(S,e,null))]),y={name:"人员设置",icon:"el-icon-user-solid",properties:{assignee:{component:i,prefixTitle:"处理人",allowCreate:!0,filterable:!0,vSlots:{default:()=>m}},candidateUsers:{component:i,prefixTitle:"候选人",filterable:!0,multiple:!0,allowCreate:!0,vSlots:{default:()=>m},getValue(e){return e.candidateUsers?typeof e.candidateUsers=="string"?e==null?void 0:e.candidateUsers.split(","):e==null?void 0:e.candidateUsers:[]}},loopCardinality:{component:u,placeholder:"循环基数",type:"number",vSlots:{prepend:()=>n("div",null,[d("循环基数")])},predicate(e){return e.loopCharacteristics},getValue(e){var a;const t=e.loopCharacteristics;return t?(a=t.loopCardinality)==null?void 0:a.body:""},setValue(e,t,a){const l=r.getModeler().get("moddle"),s=e.loopCharacteristics;s.loopCardinality=l.create("bpmn:FormalExpression",{body:a}),r.updateProperties(r.getShape(),{loopCharacteristics:s})}},completionCondition:{component:u,placeholder:"如：${nrOfCompletedInstances/nrOfInstances >= 0.25} 表示完成数大于等于4分1时任务完成",vSlots:{prepend:()=>n("div",null,[d("完成条件")])},predicate(e){return e.loopCharacteristics},getValue(e){var a;const t=e.loopCharacteristics;return t?(a=t.completionCondition)==null?void 0:a.body:""},setValue(e,t,a){const l=r,s=l.getModeler().get("moddle"),p=e.loopCharacteristics;p.completionCondition=s.create("bpmn:FormalExpression",{body:a}),l.updateProperties(l.getShape(),{loopCharacteristics:p})}}}},E=[{label:"无",value:"Null"},{label:"并行多重事件",value:"Parallel"},{label:"时序多重事件",value:"Sequential"},{label:"循环事件",value:"StandardLoop"}],L=n(f,null,[E.map(e=>n(S,e,null))]),T={...c,properties:{...c.properties,loopCharacteristics:{component:i,prefixTitle:"回路特性",vSlots:{default:()=>L},getValue(e){const t=e.loopCharacteristics;return t?t.$type==="bpmn:MultiInstanceLoopCharacteristics"?t.isSequential?"Sequential":"Parallel":"StandardLoop":"Null"},setValue(e,t,a){const l=r.getShape();switch(a){case"Null":r.updateProperties(l,{loopCharacteristics:null});break;case"StandardLoop":r.createElement("bpmn:StandardLoopCharacteristics","loopCharacteristics");break;default:r.createElement("bpmn:MultiInstanceLoopCharacteristics","loopCharacteristics",{isSequential:a==="Sequential"})}return()=>r.refresh()}}}},o=[T,v,C,h],N={"bpmn:Task":o,"bpmn:UserTask":[T,y,v,P,C,h],"bpmn:ReceiveTask":o,"bpmn:SendTask":o,"bpmn:ManualTask":o,"bpmn:BusinessRuleTask":o,"bpmn:ServiceTask":o,"bpmn:ScriptTask":o,"bpmn:CallActivity":o};export{y as BpmnUserGroupProperties,N as default};
